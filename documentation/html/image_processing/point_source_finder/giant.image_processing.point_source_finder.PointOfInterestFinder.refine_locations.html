<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PointOfInterestFinder.refine_locations &#8212; GIANT 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=3f530b75" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=aae3c237" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../_static/documentation_options.js?v=51b770b3"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="PointOfInterestFinder.__call__" href="giant.image_processing.point_source_finder.PointOfInterestFinder.__call__.html" />
    <link rel="prev" title="PointOfInterestFinder.find_poi_in_roi" href="giant.image_processing.point_source_finder.PointOfInterestFinder.find_poi_in_roi.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">A powerful API for Optical Navigation</p>






<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installing GIANT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../giant.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../giant.html#indices">Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../../giant.html">API Reference</a><ul>
  <li><a href="../../giant.image_processing.html">giant.image_processing</a><ul>
  <li><a href="../giant.image_processing.point_source_finder.html">point_source_finder</a><ul>
  <li><a href="giant.image_processing.point_source_finder.PointOfInterestFinder.html">PointOfInterestFinder</a><ul>
      <li>Previous: <a href="giant.image_processing.point_source_finder.PointOfInterestFinder.find_poi_in_roi.html" title="previous chapter">PointOfInterestFinder.find_poi_in_roi</a></li>
      <li>Next: <a href="giant.image_processing.point_source_finder.PointOfInterestFinder.__call__.html" title="next chapter">PointOfInterestFinder.__call__</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="giant.image_processing.point_source_finder.PointOfInterestFinder.find_poi_in_roi.html" title="Previous document">PointOfInterestFinder.find_poi_in_roi</a>
        </li>
        <li>
          <a href="giant.image_processing.point_source_finder.PointOfInterestFinder.__call__.html" title="Next document">PointOfInterestFinder.__call__</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="pointofinterestfinder-refine-locations">
<h1>PointOfInterestFinder.refine_locations<a class="headerlink" href="#pointofinterestfinder-refine-locations" title="Link to this heading">¶</a></h1>
<p><a class="reference internal" href="giant.image_processing.point_source_finder.html#module-giant.image_processing.point_source_finder" title="giant.image_processing.point_source_finder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">giant.image_processing.point_source_finder</span></code></a>:</p>
<dl class="py method">
<dt class="sig sig-object py" id="giant.image_processing.point_source_finder.PointOfInterestFinder.refine_locations">
<span class="sig-prename descclassname"><span class="pre">PointOfInterestFinder.</span></span><span class="sig-name descname"><span class="pre">refine_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_of_interest</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/giant/image_processing/point_source_finder.html#PointOfInterestFinder.refine_locations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#giant.image_processing.point_source_finder.PointOfInterestFinder.refine_locations" title="Link to this definition">¶</a></dt>
<dd><p>This method is used to estimate the subpixel centers of blobs in an image given the pixel level location of the
blobs.</p>
<p>The method operates by performing a user specified centroiding algorithm on the image area surrounding the
specified pixel level centers of the points of interest.  The centroiding algorithm should typically be a
subclass of <a class="reference internal" href="../../giant.point_spread_functions.html#giant.point_spread_functions.PointSpreadFunction" title="giant.point_spread_functions.PointSpreadFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">PointSpreadFunction</span></code></a>, however it can be any object with a <code class="docutils literal notranslate"><span class="pre">fit</span></code> method that inputs  3
array like parameters with the first two being pixel locations and the last being DN values and returns a
object with a <code class="docutils literal notranslate"><span class="pre">centroid</span></code> attribute which provides the (x, y) location of the centroid.  The centroiding
algorithm is specified using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">centroiding</span></code> attribute. The size of the area considered in the
centroiding algorithm can be specified in the <a class="reference internal" href="giant.image_processing.point_source_finder.PointOfInterestFinderOptions.html#giant.image_processing.point_source_finder.PointOfInterestFinderOptions.centroid_size" title="giant.image_processing.point_source_finder.PointOfInterestFinderOptions.centroid_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">centroid_size</span></code></a> attribute.</p>
<p>This method returns both the subpixel centers of the points of interest as well as the illumination values of
the pixels containing the subpixel centers of the points of interest.  Optionally, stats about the blobs that
the centroid was fit to and then full centroid fit can be returned if <code class="docutils literal notranslate"><span class="pre">stats</span></code> and <code class="docutils literal notranslate"><span class="pre">snrs</span></code> are not
None and <code class="xref py py-attr docutils literal notranslate"><span class="pre">save_psf</span></code> is set to True, respectively.</p>
<p>Note that if a centroid fit is unsuccessful then no information is returned for that point.  Therefore the
output arrays lengths will be less than or equal to the length of the input array.</p>
<p>This method is designed to be used in conjunction with the <a class="reference internal" href="giant.image_processing.point_source_finder.PointOfInterestFinder.find_poi_in_roi.html#giant.image_processing.point_source_finder.PointOfInterestFinder.find_poi_in_roi" title="giant.image_processing.point_source_finder.PointOfInterestFinder.find_poi_in_roi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_poi_in_roi()</span></code></a> method; however, it can be
used with any rough identification method so long as the input format is correct.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em><em>[</em><em>tuple</em><em>[</em><em>Any</em><em>, </em><em>...</em><em>]</em><em>, </em><em>dtype</em><em>[</em><em>_ScalarT</em><em>]</em><em>]</em>) – The image to be processed</p></li>
<li><p><strong>points_of_interest</strong> (<a class="reference internal" href="giant.image_processing.point_source_finder.FindPPOIInROIOut.html#giant.image_processing.point_source_finder.FindPPOIInROIOut" title="giant.image_processing.point_source_finder.FindPPOIInROIOut"><em>FindPPOIInROIOut</em></a>) – The named tuple containing the pixel level information about the points of interest</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The subpixel centers of the points of interest (col, row), the intensity of the center of the pois,
the fit <a class="reference internal" href="../../giant.point_spread_functions.html#giant.point_spread_functions.PointSpreadFunction" title="giant.point_spread_functions.PointSpreadFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">PointSpreadFunction</span></code></a> to the pois, the stats from the blobs containing the pois,
and the peak SNR of the blobs containing the pois.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="giant.image_processing.point_source_finder.POIFinderOut.html#giant.image_processing.point_source_finder.POIFinderOut" title="giant.image_processing.point_source_finder.POIFinderOut"><em>POIFinderOut</em></a></p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="giant.image_processing.point_source_finder.PointOfInterestFinder.find_poi_in_roi.html" title="Previous document">PointOfInterestFinder.find_poi_in_roi</a>
        </li>
        <li>
          <a href="giant.image_processing.point_source_finder.PointOfInterestFinder.__call__.html" title="Next document">PointOfInterestFinder.__call__</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
    <div style="display:inline-block;vertical-align:middle;">
        <img src="/_static/NASA_logo.svg" alt="NASA" style="width:80px;height:80px;">
    </div>
    <div style="display:inline-block;vertical-align:middle;">
        &copy;2023 United States Government | 
        NASA Official: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a> |
        Curator: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a>
        <br>
        Last updated on Sep 03, 2025 |
        
        |
        Powered by <a href="http://sphinx-doc.org/">Sphinx 8.2.3</a>
        &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 1.0.0</a>
        
        |
        <a href="https://www.nasa.gov/about/highlights/HP_Privacy.html">Privacy Policy/Notices</a>
    </div>
</div>
  </body>
</html>