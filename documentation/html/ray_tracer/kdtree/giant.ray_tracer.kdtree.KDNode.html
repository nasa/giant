<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>KDNode &#8212; GIANT 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=3f530b75" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=aae3c237" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../_static/documentation_options.js?v=51b770b3"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="KDNode.compute_bounding_box" href="giant.ray_tracer.kdtree.KDNode.compute_bounding_box.html" />
    <link rel="prev" title="kdtree" href="../giant.ray_tracer.kdtree.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">A powerful API for Optical Navigation</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installing GIANT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../giant.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../giant.html#indices">Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../../giant.html">API Reference</a><ul>
  <li><a href="../../giant.ray_tracer.html">giant.ray_tracer</a><ul>
  <li><a href="../giant.ray_tracer.kdtree.html">kdtree</a><ul>
      <li>Previous: <a href="../giant.ray_tracer.kdtree.html" title="previous chapter">kdtree</a></li>
      <li>Next: <a href="giant.ray_tracer.kdtree.KDNode.compute_bounding_box.html" title="next chapter">KDNode.compute_bounding_box</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../giant.ray_tracer.kdtree.html" title="Previous document">kdtree</a>
        </li>
        <li>
          <a href="giant.ray_tracer.kdtree.KDNode.compute_bounding_box.html" title="Next document">KDNode.compute_bounding_box</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="kdnode">
<h1>KDNode<a class="headerlink" href="#kdnode" title="Link to this heading">¶</a></h1>
<p><a class="reference internal" href="../giant.ray_tracer.kdtree.html#module-giant.ray_tracer.kdtree" title="giant.ray_tracer.kdtree"><code class="xref py py-mod docutils literal notranslate"><span class="pre">giant.ray_tracer.kdtree</span></code></a>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">giant.ray_tracer.kdtree.</span></span><span class="sig-name descname"><span class="pre">KDNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_bounding_box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_id_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_centers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode" title="Link to this definition">¶</a></dt>
<dd><p>A class to represent a node in a <a class="reference internal" href="giant.ray_tracer.kdtree.KDTree.html#giant.ray_tracer.kdtree.KDTree" title="giant.ray_tracer.kdtree.KDTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">KDTree</span></code></a></p>
<p>A node represents a spatial subdivision of the geometry that is contained in the scene.  It is comprised of an axis
aligned bounding box, specifying the extent of the geometry contained with the node and its children, along with
references to its children (if any), the geometry contained locally in the node (if any), and a unique identity for
the node in the tree.</p>
<p>Nodes are not typically used directly by the user, instead you should interact with the <a class="reference internal" href="giant.ray_tracer.kdtree.KDTree.html#giant.ray_tracer.kdtree.KDTree" title="giant.ray_tracer.kdtree.KDTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">KDTree</span></code></a>, which acts
as a container/manager for all of the nodes that make up a tree.</p>
<p>Each node is described by a unique identifier <a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode.id" title="giant.ray_tracer.kdtree.KDNode.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">id</span></code></a>.  Typically, this identifier is encoded into a large
integer of the following form</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>xxxxxxxxyyyyyyyy
|--id--||facet#|
|---id_order---|
</pre></div>
</div>
<p>where <a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode.id" title="giant.ray_tracer.kdtree.KDNode.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">id</span></code></a> is the id of the node, <code class="docutils literal notranslate"><span class="pre">facet#</span></code> is reserved to specify a facet number within the node with a length
of <a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode.order" title="giant.ray_tracer.kdtree.KDNode.order"><code class="xref py py-attr docutils literal notranslate"><span class="pre">order</span></code></a> digits, and there are a total of <a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode.id_order" title="giant.ray_tracer.kdtree.KDNode.id_order"><code class="xref py py-attr docutils literal notranslate"><span class="pre">id_order</span></code></a> digits used to represent the ids. This form is
used for checking that we are not intersecting the same triangle again (due to finite precision issues) when we are
doing a bounce or other tracing that starts already on the surface.  For more details on how this works refer to
<a class="reference internal" href="../scene/giant.ray_tracer.scene.Scene.trace.html#giant.ray_tracer.scene.Scene.trace" title="giant.ray_tracer.scene.Scene.trace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Scene.trace()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surface</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="../shapes/surface/giant.ray_tracer.shapes.surface.Surface.html#giant.ray_tracer.shapes.surface.Surface" title="giant.ray_tracer.shapes.surface.Surface"><em>Surface</em></a><em>]</em>) – the surfaces that are to be stored in the node and its children</p></li>
<li><p><strong>_left</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode" title="giant.ray_tracer.kdtree.KDNode"><em>KDNode</em></a><em>]</em>) – The left child of this node.  This is only used for pickling/unpickling purposes and is typically
not used by the user</p></li>
<li><p><strong>_right</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode" title="giant.ray_tracer.kdtree.KDNode"><em>KDNode</em></a><em>]</em>) – The right child of this node.  This is only used for pickling/unpickling purposes and is
typically not used by the user</p></li>
<li><p><strong>_bounding_box</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="../shapes/axis_aligned_bounding_box/giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox.html#giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox" title="giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox"><em>AxisAlignedBoundingBox</em></a><em>]</em>) – The bounding box for this node.  This is only used for pickling/unpickling purposes and is
typically not used by the user</p></li>
<li><p><strong>_order</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – The order for this node (the maximum number of faces in the geometry for any node in the current
<a class="reference internal" href="giant.ray_tracer.kdtree.KDTree.html#giant.ray_tracer.kdtree.KDTree" title="giant.ray_tracer.kdtree.KDTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">KDTree</span></code></a>).  This is only used for pickling/unpickling purposes and is typically not used
by the user</p></li>
<li><p><strong>_id</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – A unique identifier for this node.  This is only used for picling/unpickling purposes and is
typically not used by the user.</p></li>
<li><p><strong>_id_order</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – The order for this node (the maximum number of digits in any ID for any node in the current
<a class="reference internal" href="giant.ray_tracer.kdtree.KDTree.html#giant.ray_tracer.kdtree.KDTree" title="giant.ray_tracer.kdtree.KDTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">KDTree</span></code></a>).  This is only used for pickling/unpickling purposes and is typically not
used by the user.</p></li>
<li><p><strong>_centers</strong> (<em>np.ndarray</em>) – The centers of the surfaces that are being current split.  This is not typically used by the
user.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode.left">
<span class="sig-name descname"><span class="pre">left</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode" title="giant.ray_tracer.kdtree.KDNode"><span class="pre">KDNode</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode.left" title="Link to this definition">¶</a></dt>
<dd><p>The left child of this node (containing the geometry that is less than the median)
If there are no children this will be <code class="docutils literal notranslate"><span class="pre">None</span></code> and this is probably a leaf node with geometry in
<a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode.surface" title="giant.ray_tracer.kdtree.KDNode.surface"><code class="xref py py-attr docutils literal notranslate"><span class="pre">surface</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode.right">
<span class="sig-name descname"><span class="pre">right</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode" title="giant.ray_tracer.kdtree.KDNode"><span class="pre">KDNode</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode.right" title="Link to this definition">¶</a></dt>
<dd><p>The right child of this node (containing the geometry that is greater than the median)
If there are no children this will be <code class="docutils literal notranslate"><span class="pre">None</span></code> and this is probably a leaf node with geometry in
<a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode.surface" title="giant.ray_tracer.kdtree.KDNode.surface"><code class="xref py py-attr docutils literal notranslate"><span class="pre">surface</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode.bounding_box">
<span class="sig-name descname"><span class="pre">bounding_box</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../shapes/axis_aligned_bounding_box/giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox.html#giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox" title="giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox"><span class="pre">AxisAlignedBoundingBox</span></a></em><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode.bounding_box" title="Link to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../shapes/axis_aligned_bounding_box/giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox.html#giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox" title="giant.ray_tracer.shapes.axis_aligned_bounding_box.AxisAlignedBoundingBox"><code class="xref py py-class docutils literal notranslate"><span class="pre">AxisAlignedBoundingBox</span></code></a> specifying the extent of the space covered by this node and its children.</p>
<p>The bounding box contains both any geometry primitives contained in the node, as well as the bounding boxes of
all children nodes, therefore if a ray does not intersect the bounding box of the node, it will not intersect
any of its dependents (children or geometry)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode.has_surface">
<span class="sig-name descname"><span class="pre">has_surface</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode.has_surface" title="Link to this definition">¶</a></dt>
<dd><p>A flag specifying whether this is a leaf node (<code class="docutils literal notranslate"><span class="pre">True</span></code>, contains geometry) or is a branch node (<code class="docutils literal notranslate"><span class="pre">False</span></code>, only
contains children nodes).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode.surface">
<span class="sig-name descname"><span class="pre">surface</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../shapes/surface/giant.ray_tracer.shapes.surface.Surface.html#giant.ray_tracer.shapes.surface.Surface" title="giant.ray_tracer.shapes.surface.Surface"><span class="pre">Surface</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode.surface" title="Link to this definition">¶</a></dt>
<dd><p>The surface object specifying the geometry for this node if it is a leaf node or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>If this is a leaf node then there should be no children nodes (<a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode.left" title="giant.ray_tracer.kdtree.KDNode.left"><code class="xref py py-attr docutils literal notranslate"><span class="pre">left</span></code></a> and <a class="reference internal" href="#giant.ray_tracer.kdtree.KDNode.right" title="giant.ray_tracer.kdtree.KDNode.right"><code class="xref py py-attr docutils literal notranslate"><span class="pre">right</span></code></a> should both be
<code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode.id" title="Link to this definition">¶</a></dt>
<dd><p>The unique identifier for this node as an integer.</p>
<p>This is guaranteed to be unique for every node in a tree (it is not guaranteed to be unique across nodes in
different trees).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode.id_order">
<span class="sig-name descname"><span class="pre">id_order</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode.id_order" title="Link to this definition">¶</a></dt>
<dd><p>The maximum number of digits required to represent the largest ID number for an node in any given tree.  See the
class description for more details of what this means.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="giant.ray_tracer.kdtree.KDNode.order">
<span class="sig-name descname"><span class="pre">order</span></span><a class="headerlink" href="#giant.ray_tracer.kdtree.KDNode.order" title="Link to this definition">¶</a></dt>
<dd><p>The order represents the number of digits required to represent of the maximum number of the geometry primitives
contained in any relative nodes (nodes belonging to the same tree).</p>
</dd></dl>

</dd></dl>

<p class="rubric">Summary of Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="giant.ray_tracer.kdtree.KDNode.compute_bounding_box.html#giant.ray_tracer.kdtree.KDNode.compute_bounding_box" title="giant.ray_tracer.kdtree.KDNode.compute_bounding_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_bounding_box</span></code></a></p></td>
<td><p>compute_bounding_box(self)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="giant.ray_tracer.kdtree.KDNode.rotate.html#giant.ray_tracer.kdtree.KDNode.rotate" title="giant.ray_tracer.kdtree.KDNode.rotate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rotate</span></code></a></p></td>
<td><p>rotate(self, rotation)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="giant.ray_tracer.kdtree.KDNode.split.html#giant.ray_tracer.kdtree.KDNode.split" title="giant.ray_tracer.kdtree.KDNode.split"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code></a></p></td>
<td><p>split(self, force=False, flip=False, print_progress=True)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="giant.ray_tracer.kdtree.KDNode.translate.html#giant.ray_tracer.kdtree.KDNode.translate" title="giant.ray_tracer.kdtree.KDNode.translate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">translate</span></code></a></p></td>
<td><p>translate(self, translation)</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../giant.ray_tracer.kdtree.html" title="Previous document">kdtree</a>
        </li>
        <li>
          <a href="giant.ray_tracer.kdtree.KDNode.compute_bounding_box.html" title="Next document">KDNode.compute_bounding_box</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
    <div style="display:inline-block;vertical-align:middle;">
        <img src="/_static/NASA_logo.svg" alt="NASA" style="width:80px;height:80px;">
    </div>
    <div style="display:inline-block;vertical-align:middle;">
        &copy;2023 United States Government | 
        NASA Official: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a> |
        Curator: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a>
        <br>
        Last updated on Sep 03, 2025 |
        
        |
        Powered by <a href="http://sphinx-doc.org/">Sphinx 8.2.3</a>
        &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 1.0.0</a>
        
        |
        <a href="https://www.nasa.gov/about/highlights/HP_Privacy.html">Privacy Policy/Notices</a>
    </div>
</div>
  </body>
</html>