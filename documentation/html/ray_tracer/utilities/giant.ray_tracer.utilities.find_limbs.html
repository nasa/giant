<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>find_limbs &#8212; GIANT 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=3f530b75" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=aae3c237" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../_static/documentation_options.js?v=51b770b3"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="ref_ellipse" href="giant.ray_tracer.utilities.ref_ellipse.html" />
    <link rel="prev" title="compute_stats" href="giant.ray_tracer.utilities.compute_stats.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">A powerful API for Optical Navigation</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installing GIANT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../giant.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../giant.html#indices">Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../../giant.html">API Reference</a><ul>
  <li><a href="../../giant.ray_tracer.html">giant.ray_tracer</a><ul>
  <li><a href="../giant.ray_tracer.utilities.html">utilities</a><ul>
      <li>Previous: <a href="giant.ray_tracer.utilities.compute_stats.html" title="previous chapter">compute_stats</a></li>
      <li>Next: <a href="giant.ray_tracer.utilities.ref_ellipse.html" title="next chapter">ref_ellipse</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="giant.ray_tracer.utilities.compute_stats.html" title="Previous document">compute_stats</a>
        </li>
        <li>
          <a href="giant.ray_tracer.utilities.ref_ellipse.html" title="Next document">ref_ellipse</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="find-limbs">
<h1>find_limbs<a class="headerlink" href="#find-limbs" title="Link to this heading">¶</a></h1>
<p><a class="reference internal" href="../giant.ray_tracer.utilities.html#module-giant.ray_tracer.utilities" title="giant.ray_tracer.utilities"><code class="xref py py-mod docutils literal notranslate"><span class="pre">giant.ray_tracer.utilities</span></code></a>:</p>
<dl class="py function">
<dt class="sig sig-object py" id="giant.ray_tracer.utilities.find_limbs">
<span class="sig-prename descclassname"><span class="pre">giant.ray_tracer.utilities.</span></span><span class="sig-name descname"><span class="pre">find_limbs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_center_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_dirs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observer_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-12</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/giant/ray_tracer/utilities.html#find_limbs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#giant.ray_tracer.utilities.find_limbs" title="Link to this definition">¶</a></dt>
<dd><p>This helper function determines the limb points for any traceable shape (visible edge of the shape) that would be
visible for an observer located at <code class="docutils literal notranslate"><span class="pre">observer_position</span></code> looking toward <code class="docutils literal notranslate"><span class="pre">scan_center_dir</span></code> along the
directions given by <code class="docutils literal notranslate"><span class="pre">scan_dirs</span></code>.</p>
<p>Typically it is assumed that the location of the observer is at the origin of the current frame and therefore
<code class="docutils literal notranslate"><span class="pre">observer_position</span></code> can be left as <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>The limb for the surface is found iteratively by tracing rays from the observer to the shape.  First, the
rays are traced along the scan center direction, which should beg guaranteed to strike the shape.  Then, we
adjust the direction of the rays so that they no longer intersect the surface using <code class="docutils literal notranslate"><span class="pre">initial_step</span></code>.
We then proceed by tracing rays with directions half way between the left rays (guaranteed to strike the surface)
and the right rays (guaranteed to not strike the surface) updating the left and right rays based on the result of
the last trace.  This continues for a maximum of <code class="docutils literal notranslate"><span class="pre">max_iterations</span></code> or until the tolerances specified by <code class="docutils literal notranslate"><span class="pre">rtol</span></code>
and <code class="docutils literal notranslate"><span class="pre">atol</span></code> are met for the change in the estimate of the limb location.  The returned limb location is the last
ray intersect location that hit the surface for each <code class="docutils literal notranslate"><span class="pre">scan_dirs</span></code>.</p>
<p>The returned limbs are expressed as vectors from the observer to the limb point in the current frame as a 3xn
numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<a class="reference internal" href="../shapes/shape/giant.ray_tracer.shapes.shape.Shape.html#giant.ray_tracer.shapes.shape.Shape" title="giant.ray_tracer.shapes.shape.Shape"><em>Shape</em></a>) – The target shape that we are to find the limb points for as a <a class="reference internal" href="../shapes/shape/giant.ray_tracer.shapes.shape.Shape.html#giant.ray_tracer.shapes.shape.Shape" title="giant.ray_tracer.shapes.shape.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a></p></li>
<li><p><strong>scan_center_dir</strong> (<em>Buffer</em><em> | </em><em>_SupportsArray</em><em>[</em><em>dtype</em><em>[</em><em>Any</em><em>]</em><em>] </em><em>| </em><em>_NestedSequence</em><em>[</em><em>_SupportsArray</em><em>[</em><em>dtype</em><em>[</em><em>Any</em><em>]</em><em>]</em><em>] </em><em>| </em><em>complex</em><em> | </em><em>bytes</em><em> | </em><em>str</em><em> | </em><em>_NestedSequence</em><em>[</em><em>complex</em><em> | </em><em>bytes</em><em> | </em><em>str</em><em>]</em>) – the unit vector which the scan is to begin at in the current frame as a length 3 array
A ray cast along this unit vector from the <code class="docutils literal notranslate"><span class="pre">observer_position</span></code> should be guaranteed
to strike the surface and ideally should be towards the center of figure of the surface</p></li>
<li><p><strong>scan_dirs</strong> (<em>Buffer</em><em> | </em><em>_SupportsArray</em><em>[</em><em>dtype</em><em>[</em><em>Any</em><em>]</em><em>] </em><em>| </em><em>_NestedSequence</em><em>[</em><em>_SupportsArray</em><em>[</em><em>dtype</em><em>[</em><em>Any</em><em>]</em><em>]</em><em>] </em><em>| </em><em>complex</em><em> | </em><em>bytes</em><em> | </em><em>str</em><em> | </em><em>_NestedSequence</em><em>[</em><em>complex</em><em> | </em><em>bytes</em><em> | </em><em>str</em><em>]</em>) – the unit vectors along with the scan is to proceed as a 3xn array in the current frame where
each column represents a new limb point we wish to find (should be nearly orthogonal to the
<code class="docutils literal notranslate"><span class="pre">scan_center_dir</span></code> in most cases).</p></li>
<li><p><strong>observer_position</strong> (<em>Buffer</em><em> | </em><em>_SupportsArray</em><em>[</em><em>dtype</em><em>[</em><em>Any</em><em>]</em><em>] </em><em>| </em><em>_NestedSequence</em><em>[</em><em>_SupportsArray</em><em>[</em><em>dtype</em><em>[</em><em>Any</em><em>]</em><em>]</em><em>] </em><em>| </em><em>complex</em><em> | </em><em>bytes</em><em> | </em><em>str</em><em> | </em><em>_NestedSequence</em><em>[</em><em>complex</em><em> | </em><em>bytes</em><em> | </em><em>str</em><em>] </em><em>| </em><em>None</em>) – The location of the observer in the current frame.  If <code class="docutils literal notranslate"><span class="pre">None</span></code> then it is assumed
the observer is at the origin of the current frame</p></li>
<li><p><strong>initial_step</strong> (<em>float</em>) – The size of the initial step to take along the <code class="docutils literal notranslate"><span class="pre">scan_dirs</span></code> direction.  This should be
guaranteed to result in rays that do not strike the body.</p></li>
<li><p><strong>max_iterations</strong> (<em>int</em>) – The maximum number of iteration steps to take when locating the limbs</p></li>
<li><p><strong>rtol</strong> (<em>float</em>) – The relative tolerance of the change in the limb location from one iteration to the next that
indicates convergence.</p></li>
<li><p><strong>atol</strong> (<em>float</em>) – the absolute tolerance of the change int he limb location from one iteration to the next that
indicates convergence.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the vectors from the observer to the limbs in the current frame as a 3xn array</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>ndarray</em></p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="giant.ray_tracer.utilities.compute_stats.html" title="Previous document">compute_stats</a>
        </li>
        <li>
          <a href="giant.ray_tracer.utilities.ref_ellipse.html" title="Next document">ref_ellipse</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
    <div style="display:inline-block;vertical-align:middle;">
        <img src="/_static/NASA_logo.svg" alt="NASA" style="width:80px;height:80px;">
    </div>
    <div style="display:inline-block;vertical-align:middle;">
        &copy;2023 United States Government | 
        NASA Official: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a> |
        Curator: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a>
        <br>
        Last updated on Sep 03, 2025 |
        
        |
        Powered by <a href="http://sphinx-doc.org/">Sphinx 8.2.3</a>
        &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 1.0.0</a>
        
        |
        <a href="https://www.nasa.gov/about/highlights/HP_Privacy.html">Privacy Policy/Notices</a>
    </div>
</div>
  </body>
</html>