<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>constraint_matching &#8212; GIANT 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=3f530b75" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=aae3c237" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../_static/documentation_options.js?v=51b770b3"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="ConstraintMatchingOptions" href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.html" />
    <link rel="prev" title="UnresolvedCenterFinding.target_generator" href="unresolved/giant.relative_opnav.estimators.unresolved.UnresolvedCenterFinding.target_generator.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">A powerful API for Optical Navigation</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installing GIANT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../giant.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../giant.html#indices">Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../../giant.html">API Reference</a><ul>
  <li><a href="../../giant.relative_opnav.html">giant.relative_opnav</a><ul>
  <li><a href="../giant.relative_opnav.estimators.html">estimators</a><ul>
      <li>Previous: <a href="unresolved/giant.relative_opnav.estimators.unresolved.UnresolvedCenterFinding.target_generator.html" title="previous chapter">UnresolvedCenterFinding.target_generator</a></li>
      <li>Next: <a href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.html" title="next chapter">ConstraintMatchingOptions</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="unresolved/giant.relative_opnav.estimators.unresolved.UnresolvedCenterFinding.target_generator.html" title="Previous document">UnresolvedCenterFinding.target_generator</a>
        </li>
        <li>
          <a href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.html" title="Next document">ConstraintMatchingOptions</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="module-giant.relative_opnav.estimators.constraint_matching">
<span id="constraint-matching"></span><h1>constraint_matching<a class="headerlink" href="#module-giant.relative_opnav.estimators.constraint_matching" title="Link to this heading">¶</a></h1>
<p>This module implements opportunistic feature matching between images or between an image and a template</p>
<section id="description-of-the-technique">
<h2>Description of the Technique<a class="headerlink" href="#description-of-the-technique" title="Link to this heading">¶</a></h2>
<p>Constraint matching, or opportunistic feature matching, refers to identifying the same “feature” in 
two different images, or between an image and a rendered template.</p>
<section id="between-images">
<h3>Between Images<a class="headerlink" href="#between-images" title="Link to this heading">¶</a></h3>
<p>When doing constraint matching between 2 images, the observations are not tied to known points on the 
surface of the target.  This is thereore a less accurate technique (at least from an overal orbit 
determination perspective) than traditional terrain relative navigation, as the information we extract 
only pertains to the change in the location and orientation of the camera from one image to the next 
(and in general is just an estimate of the direction of motion due to scale ambiguities).</p>
<p>That being said, this can still be a powerful measurement type, particularly when fused with other data sets
that can resolve the scale ambiguity.  Additionally, it can be used even at unmapped bodies, which can
dramatically reduce the time required to be able to operate at a new target.</p>
</section>
<section id="between-and-image-and-a-template">
<h3>Between and Image and a Template<a class="headerlink" href="#between-and-image-and-a-template" title="Link to this heading">¶</a></h3>
<p>When doing constraint matching between an image and a template we can actually tie the observations back to
a known map of the body (whatever map the template was rendered from).  This means that the measurements can
generally be treated the same as regular TRN/SFN measurements, though, if your template comes from a global 
shape model, you should expect that the resulting feature locations are less accurate than would be from
a detailed map intended to make navigation maps.  Another difference from regular TRN/SFN is that you are
unlikely to observe the same exact “feature” multiple times in different images, rather, each observation 
will be slightly different.  This removes some information from the orbit determination process as each observation
is unique and mostly unrelated to any other observations (whereas in traditional TRN/SFN, we can do things like 
estimate both the spacecraft state and the feature locations since we receive multiple observations of the same
feature from different images).</p>
<p>The primary benefit to constraint matching in this case is again that you can begin doing a form of TRN much earlier 
in operations, before there has been time to make a detailed set of maps for navigation purposes.</p>
</section>
</section>
<section id="tuning">
<h2>Tuning<a class="headerlink" href="#tuning" title="Link to this heading">¶</a></h2>
<p>There are several tuning parameters that can impact the performance of constraint matching, as outlined in the 
<a class="reference internal" href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.html#giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions" title="giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstraintMatchingOptions</span></code></a> class. In general though, the most critical tuning parameters are the choice 
of the <a class="reference internal" href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.html#giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.feature_matcher" title="giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.feature_matcher"><code class="xref py py-attr docutils literal notranslate"><span class="pre">feature_matcher</span></code></a> and the 
<a class="reference internal" href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.html#giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.max_time_difference" title="giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.max_time_difference"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_time_difference</span></code></a>, with the <cite>feature_matcher</cite> being the more important of
the two.  In general, GIANT ships with several “hand tuned” feature matchers available, including SIFT and Orb.
These can perform well between a template and an image, or between two images where the illumincation conditions
are relatively similar (with SIFT generally outperforming Orb), but they will struggle with large changes in 
illumination conditions.  Optionally, you can install the open source implementation of RoMa (as described in
<code class="xref py py-mod docutils literal notranslate"><span class="pre">roma_matcher</span></code>) which is a machine learning based technique for matching images.  This model, even without
additional fine tuning, has show excellent performance even in challenging illumincation condition changes and
also outperforms the hand-tuned features in cases where they are well suited</p>
</section>
<section id="use">
<h2>Use<a class="headerlink" href="#use" title="Link to this heading">¶</a></h2>
<p>The class provided in this module is usually not used by the user directly, instead it is usually interfaced with
through the <a class="reference internal" href="../relnav_class/giant.relative_opnav.relnav_class.RelativeOpNav.html#giant.relative_opnav.relnav_class.RelativeOpNav" title="giant.relative_opnav.relnav_class.RelativeOpNav"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelativeOpNav</span></code></a> class using the identifier <code class="xref py py-attr docutils literal notranslate"><span class="pre">constraint_matching</span></code>.  For more
details on using the <a class="reference internal" href="../relnav_class/giant.relative_opnav.relnav_class.RelativeOpNav.html#giant.relative_opnav.relnav_class.RelativeOpNav" title="giant.relative_opnav.relnav_class.RelativeOpNav"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelativeOpNav</span></code></a> interface, please refer to the <a class="reference internal" href="../giant.relative_opnav.relnav_class.html#module-giant.relative_opnav.relnav_class" title="giant.relative_opnav.relnav_class"><code class="xref py py-mod docutils literal notranslate"><span class="pre">relnav_class</span></code></a> documentation.  For
more details on using the technique class directly, as well as a description of the <code class="docutils literal notranslate"><span class="pre">details</span></code> dictionaries produced
by this technique, refer to the following class documentation.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>While this technique is functional, it has undergone less development and testing than other GIANT techniques
and there could therefore be some undiscovered bugs.  Additionally, the documentation needs a little more 
massaging.  PRs are welcome…</p>
</div>
</section>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.html#giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions" title="giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ConstraintMatchingOptions</span></code></a></p></td>
<td><p>This dataclass serves as one way to control the settings for the <a class="reference internal" href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatching.html#giant.relative_opnav.estimators.constraint_matching.ConstraintMatching" title="giant.relative_opnav.estimators.constraint_matching.ConstraintMatching"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstraintMatching</span></code></a> class.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatching.html#giant.relative_opnav.estimators.constraint_matching.ConstraintMatching" title="giant.relative_opnav.estimators.constraint_matching.ConstraintMatching"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ConstraintMatching</span></code></a></p></td>
<td><p>This class implements constraint matching in GIANT.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="unresolved/giant.relative_opnav.estimators.unresolved.UnresolvedCenterFinding.target_generator.html" title="Previous document">UnresolvedCenterFinding.target_generator</a>
        </li>
        <li>
          <a href="constraint_matching/giant.relative_opnav.estimators.constraint_matching.ConstraintMatchingOptions.html" title="Next document">ConstraintMatchingOptions</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
    <div style="display:inline-block;vertical-align:middle;">
        <img src="/_static/NASA_logo.svg" alt="NASA" style="width:80px;height:80px;">
    </div>
    <div style="display:inline-block;vertical-align:middle;">
        &copy;2023 United States Government | 
        NASA Official: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a> |
        Curator: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a>
        <br>
        Last updated on Sep 03, 2025 |
        
        |
        Powered by <a href="http://sphinx-doc.org/">Sphinx 8.2.3</a>
        &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 1.0.0</a>
        
        |
        <a href="https://www.nasa.gov/about/highlights/HP_Privacy.html">Privacy Policy/Notices</a>
    </div>
</div>
  </body>
</html>