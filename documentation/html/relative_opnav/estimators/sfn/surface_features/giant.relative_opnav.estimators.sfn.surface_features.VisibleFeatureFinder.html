<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>VisibleFeatureFinder &#8212; GIANT 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/basic.css?v=3f530b75" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css?v=aae3c237" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../../../_static/documentation_options.js?v=51b770b3"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../../../_static/logo.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../../copyright.html" />
    <link rel="next" title="VisibleFeatureFinder.apply_options" href="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder.apply_options.html" />
    <link rel="prev" title="SurfaceFeature.update_path" href="giant.relative_opnav.estimators.sfn.surface_features.SurfaceFeature.update_path.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../../../index.html">
    <img class="logo" src="../../../../_static/logo.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">A powerful API for Optical Navigation</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../installation.html">Installing GIANT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../giant.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../giant.html#indices">Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../copyright.html">Copyright</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../../giant.html">API Reference</a><ul>
  <li><a href="../../../../giant.relative_opnav.html">giant.relative_opnav</a><ul>
  <li><a href="../../../giant.relative_opnav.estimators.html">estimators</a><ul>
  <li><a href="../../giant.relative_opnav.estimators.sfn.html">sfn</a><ul>
  <li><a href="../giant.relative_opnav.estimators.sfn.surface_features.html">surface_features</a><ul>
      <li>Previous: <a href="giant.relative_opnav.estimators.sfn.surface_features.SurfaceFeature.update_path.html" title="previous chapter">SurfaceFeature.update_path</a></li>
      <li>Next: <a href="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder.apply_options.html" title="next chapter">VisibleFeatureFinder.apply_options</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="giant.relative_opnav.estimators.sfn.surface_features.SurfaceFeature.update_path.html" title="Previous document">SurfaceFeature.update_path</a>
        </li>
        <li>
          <a href="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder.apply_options.html" title="Next document">VisibleFeatureFinder.apply_options</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="visiblefeaturefinder">
<h1>VisibleFeatureFinder<a class="headerlink" href="#visiblefeaturefinder" title="Link to this heading">¶</a></h1>
<p><a class="reference internal" href="../giant.relative_opnav.estimators.sfn.surface_features.html#module-giant.relative_opnav.estimators.sfn.surface_features" title="giant.relative_opnav.estimators.sfn.surface_features"><code class="xref py py-mod docutils literal notranslate"><span class="pre">giant.relative_opnav.estimators.sfn.surface_features</span></code></a>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">giant.relative_opnav.estimators.sfn.surface_features.</span></span><span class="sig-name descname"><span class="pre">VisibleFeatureFinder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_catalog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">off_boresight_angle_maximum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gsd_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflectance_angle_maximum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">70</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incident_angle_maximum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">70</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_in_fov</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/giant/relative_opnav/estimators/sfn/surface_features.html#VisibleFeatureFinder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder" title="Link to this definition">¶</a></dt>
<dd><p>This class creates a callable which is used to filter features that are visible in an image.</p>
<p>The features are filtered in a number of ways.  First, they can be directly filtered by name using the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">feature_list</span></code> attribute. Next, the features are filter based on the angle between the line of sight vector to
the feature and the camera boresight vector, using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">off_boresight_angle_maximum</span></code> attribute.  Then,
the features are filtered based on the reflection angle (angle between the line of sight vector and feature normal
vector, using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">reflectance_angle_maximum</span></code> attribute.  Then, the features are filtered based on the
incidence angle (angle between the sun direction vector and the feature normal vector) using the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">incident_angle_maximum</span></code> attribute.  The the features are filtered based on the ratio of the camera GSD at the
feature location and the GSD of the feature, using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">gsd_scaling</span></code> attribute.  Finally the features are
filtered based on the percentage of the feature that is in the FOV of the camera, using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">percent_in_fov</span></code>
attribute.  For each of these filtering passes, the only the features that met the preceding filters are considered
for efficiency.</p>
<p>After initializing this class with the appropriate data, you can generate a list of the visible feature indices
(index into the <code class="xref py py-attr docutils literal notranslate"><span class="pre">FeatureCatalog.features</span></code> list and related) by calling the result and providing the
temperature of the camera.  This assumes that the scene/feature catalog/light source have been appropriately
placed in the camera frame already, so typically you should ensure that you provide a reference (not a copy) of the
feature catalog and the scene.</p>
<p>Typically a user will not interact directly with this class and instead it will be managed by the
<a class="reference internal" href="../sfn_class/giant.relative_opnav.estimators.sfn.sfn_class.SurfaceFeatureNavigation.html#giant.relative_opnav.estimators.sfn.sfn_class.SurfaceFeatureNavigation" title="giant.relative_opnav.estimators.sfn.sfn_class.SurfaceFeatureNavigation"><code class="xref py py-class docutils literal notranslate"><span class="pre">SurfaceFeatureNavigation</span></code></a> class.  If you do want to use it manually, provide the appropriate inputs
to the class constructor, update the scene to place everything in the camera frame at the time you want to identify
visible features, and then call the instance of this class providing the camera temperature at the time you want to
identify the visible features.  The resulting list of indices can be used to index into the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">FeatureCatalog.features</span></code> list and related.</p>
<p>To specify the settings for this class, you can either use keyword arguments or the
<a class="reference internal" href="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinderOptions.html#giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinderOptions" title="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinderOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">VisibleFeatureFinderOptions</span></code></a> dataclass, which is the preferred method.  It is not recommended to mix
methods as this can lead to unexpected results</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_catalog</strong> (<a class="reference internal" href="giant.relative_opnav.estimators.sfn.surface_features.FeatureCatalog.html#giant.relative_opnav.estimators.sfn.surface_features.FeatureCatalog" title="giant.relative_opnav.estimators.sfn.surface_features.FeatureCatalog"><em>FeatureCatalog</em></a>) – The feature catalog that specifies the features we care considering</p></li>
<li><p><strong>options</strong> (<a class="reference internal" href="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinderOptions.html#giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinderOptions" title="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinderOptions"><em>VisibleFeatureFinderOptions</em></a><em> | </em><em>None</em>) – A dataclass specifying the options to set for this instance.  If provided it takes preference
over all key word arguments, therefore it is not recommended to mix methods.</p></li>
<li><p><strong>feature_list</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – A list of feature names to test against (useful for filtering if you only want to use a
subset of features</p></li>
<li><p><strong>off_boresight_angle_maximum</strong> (<em>float</em><em> | </em><em>None</em>) – The maximum angle between the boresight and the line of sight to a feature
in degrees.  This is useful to avoid
overflows in the other checks by throwing things out that are way outside
the field of view.  The default (if left as <code class="docutils literal notranslate"><span class="pre">None</span></code>) is
<code class="docutils literal notranslate"><span class="pre">1.5*camera_model.field_of_view</span></code></p></li>
<li><p><strong>gsd_scaling</strong> (<em>float</em>) – The ratio allowed between the ground sample distance of the camera and the ground sample
distance of the feature.</p></li>
<li><p><strong>reflectance_angle_maximum</strong> (<em>float</em>) – The maximum reflectance angle (angle between the line of sight vector and the
feature normal vector) in degrees.</p></li>
<li><p><strong>incident_angle_maximum</strong> (<em>float</em>) – The maximum incident angle (angle between the incoming light vector and the
feature normal vector) in degrees.</p></li>
<li><p><strong>percent_in_fov</strong> (<em>float</em>) – The percentage of the feature that is in the field of view based on a bounding box test.
This should be between 0 and 100</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p class="rubric">Summary of Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder.apply_options.html#giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder.apply_options" title="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder.apply_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_options</span></code></a></p></td>
<td><p>This method applies the input options to the current instance.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="giant.relative_opnav.estimators.sfn.surface_features.SurfaceFeature.update_path.html" title="Previous document">SurfaceFeature.update_path</a>
        </li>
        <li>
          <a href="giant.relative_opnav.estimators.sfn.surface_features.VisibleFeatureFinder.apply_options.html" title="Next document">VisibleFeatureFinder.apply_options</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
    <div style="display:inline-block;vertical-align:middle;">
        <img src="/_static/NASA_logo.svg" alt="NASA" style="width:80px;height:80px;">
    </div>
    <div style="display:inline-block;vertical-align:middle;">
        &copy;2023 United States Government | 
        NASA Official: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a> |
        Curator: <a href="mailto:andrew.j.liounis@nasa.gov">Andrew Liounis</a>
        <br>
        Last updated on Sep 03, 2025 |
        
        |
        Powered by <a href="http://sphinx-doc.org/">Sphinx 8.2.3</a>
        &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 1.0.0</a>
        
        |
        <a href="https://www.nasa.gov/about/highlights/HP_Privacy.html">Privacy Policy/Notices</a>
    </div>
</div>
  </body>
</html>